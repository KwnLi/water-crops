---
title: "Selected watersheds"
---

```{r}
#| echo: false
#| warning: false
#| message: false
#| results: hide

gitdir <- "/Users/kevinl/Documents/GitHub/"
devtools::load_all(paste0(gitdir,"optimEcoServices"))
devtools::load_all(paste0(gitdir,"rPCSE"))
library(sf)
library(tidyverse)

```

```{r}
#| echo: false
#| warning: false
#| message: false
#| results: hide
ws.all <- sf::st_read("data/hu12watersheds.gpkg")

pa.counties <- counties %>% filter(STATEFP==42)

ws.pa <- ws.all %>% filter(states == "PA") %>% st_join(counties) %>%
  group_by(huc12) %>% mutate(n=n()) %>% ungroup() %>% filter(n == 1) # filter only watersheds within 1 county

# saveRDS(ws.pa %>% sf::st_drop_geometry(), "data/pa-ws.rds")
```

## selected watersheds

### map

```{r}
#| echo: false
#| warning: false
#| message: false

ggplot(pa.counties) + geom_sf() + geom_sf(data = ws.pa, fill = "maroon")

```

### Distribution of watershed sizes

```{r}
ggplot(ws.pa, aes(areasqkm)) + geom_histogram(, bins = 20)

```

### 
